"use strict";window.NACSS=window.NACSS||{},window.NACSS.link=window.NACSS.link||{},(e=>{function n(e,n,t=!0,i=""){const l=n.substr(1);if(n.startsWith(":"))t?e.dataset[l]=i:delete e.dataset[l];else{const n=[l,i].join("-");t?e.classList.add(n):e.classList.remove(n)}}const t=["alignleft","aligncenter","alignright","size-thumbnail","size-small","size-medium-small","size-medium","size-medium-large","size-medium_large","size-large","size-x-large","size-xx-large","size-xxx-large","size-full"],i={doc:"doc",docx:"doc",xls:"xls",xlsx:"xls",ppt:"ppt",pptx:"ppt",pdf:"pdf"},l={jpeg:"jpg",jpg:"jpg",png:"png",gif:"gif"},s=[];function o(e){const n=e.observedSelector;if(n&&!s.includes(n)){s.push(n);!function(e,n){if(!e.length)return;const t=new MutationObserver((e=>{for(const t of e)for(const e of t.addedNodes)1===e.nodeType&&"A"===e.tagName&&n(e)}));for(const n of e)t.observe(n,{childList:!0,subtree:!0})}(document.querySelectorAll(n),(n=>a(n,n.getAttribute("href"),e)))}}function r(e,t,i){if(c(e,i)){n(e,i.styleLinkImage);const l=i.imageExtensionTable[f(t)]??null;l&&(n(e,i.styleLinkToImage),n(e,i.styleLinkToImage,!0,l))}else!function(e){return!e.className&&0===e.childNodes.length}(e)?function(e){if(e.className)return!1;const n=e.childNodes;if(0===n.length)return!1;for(const e of n){if(e.className)return!1;if(1===e.nodeType&&"BR"!==e.tagName&&!getComputedStyle(e).display.includes("inline"))return!1}return!0}(e)&&(n(e,i.styleLinkSimple),function(e,n){return null!==n&&""!==n&&e.childNodes.length&&e.innerHTML.trim()===n}(e,t)&&n(e,i.styleLinkSimple,!0,"url"),a(e,t,i)):a(e,t,i)}function c(e,n){if(e.className)for(const t of e.className.split(" "))if(!n.allowedClasses.includes(t))return!1;let t=!1;for(const n of e.childNodes)if(1===n.nodeType){if(t||"IMG"!==n.tagName){t=!1;break}t=!0}return t}function a(e,t,i){const l=[!1];!function(e,n=null,t=null){if(null!==e&&""!==e){const i=e.indexOf("#");if(-1!==i){const l=e.substring(i+1);if(l.length){const s=document.getElementById(l);if(null!==s&&(0===i||e.substring(0,i)===location.href.replace(location.hash?location.hash:"#",""))){if(n&&t){const e=n.getBoundingClientRect().top;s.getBoundingClientRect().top<e&&(t[0]=!0)}return!0}}}}return!1}(t,e,l)?i.isUrlExternal(t)&&n(e,i.styleLinkExternal):n(e,i.styleLinkAnchor,!0,l[0]?"up":"");const s=f(t),o=i.fileExtensionTable[s]??null,r=i.imageExtensionTable[s]??null;o&&(n(e,i.styleLinkFile),n(e,i.styleLinkFile,!0,o)),r&&(n(e,i.styleLinkToImage),n(e,i.styleLinkToImage,!0,r))}function u(e){return!(null===e||""===e||e.startsWith(`${location.protocol}//${location.host}`)||!e.match(/^https?:\/\//)&&!e.match(/^\/\//))}function f(e){if(e){const n=e.indexOf("//");if(-1!==n){const t=e.indexOf("/",n+2);e=-1!==t?e.substring(t+1):""}const t=e.indexOf("?");-1!==t&&(e=e.substring(0,t));const i=e.indexOf("#");if(-1!==i&&(e=e.substring(0,i)),!e.endsWith("/")){const n=e.split("/").pop(),t=n.lastIndexOf(".");if(-1!==t)return n.substring(t+1).toLowerCase()}}return null}e.applyType=function(e,n={}){n=Object.assign({styleLinkImage:":ncLinkImage",styleLinkSimple:":ncLinkSimple",styleLinkAnchor:":ncLinkAnchor",styleLinkExternal:":ncLinkExternal",styleLinkFile:":ncLinkFile",styleLinkToImage:":ncLinkToImage",allowedClasses:t,fileExtensionTable:i,imageExtensionTable:l,isUrlExternal:u,observedSelector:null},n);for(const t of e)r(t,t.getAttribute("href"),n);o(n)},e.applyTypeByUrl=function(e,n={}){n=Object.assign({styleLinkAnchor:":ncLinkAnchor",styleLinkExternal:":ncLinkExternal",styleLinkFile:":ncLinkFile",styleLinkToImage:":ncLinkToImage",fileExtensionTable:i,imageExtensionTable:l,isUrlExternal:u,observedSelector:null},n);for(const t of e)a(t,t.getAttribute("href"),n);o(n)},e.isImageLink=c})(window.NACSS.link);//# sourceMappingURL=link-type.min.js.map
